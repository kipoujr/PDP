<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
</head>
<body>
<h2>Εκφώνηση</h2>
… Οι αρχαίοι Έλληνες διακατέχονταν από αγωνιστικό πνεύμα, το οποίο 
έπαιξε καθοριστικό ρόλο σε πολλές πτυχές του πολιτισμού τους… οι ραψωδοί
 συναγωνίζονταν στην απαγγελία κατά τη γιορτή των Παναθηναίων… (πηγή 
http://www.ime.gr/chronos/04/gr/culture/421rel_rituals_competit.html )
<br>
<br>Μετά από λίγο καιρό οι αγώνες μνήμης δεν είχαν κανένα νόημα, καθώς 
οι ραψωδοί γνώριζαν απ έξω την Ιλιάδα και την Οδύσσεια, ισοβαθμώντας 
έτσι στην πρώτη θέση.
<br>
<br>Επινόηθηκε λοιπόν ένα καινούριο άθλημα μνήμης. Δίνεται στους 
ραψωδούς ένας πίνακας με Ν αριθμούς και κάθε λεπτό ο κριτής μπορεί να 
αλλάξει έναν από αυτούς. Ο ραψωδός πρέπει να θυμάται όλες τις αλλαγές 
που έχουν γίνει, διότι ο κριτής μπορεί να του υποβάλλει ερωτήσεις του 
τύπου : «Ποιο ήταν το άθροισμα των αριθμών από τη θέση 5 ως τη θέση 25, 
το 30στο λεπτό του παιχνιδιού;».
<br>
<br>Δυστυχώς υπήρχαν διαγωνιζόμενοι που αποκτούσανε πρόσβαση στα θέματα,
 κι έτσι απομνημόνευαν από την προηγούμενη μέρα τις απαντήσεις. Μετά από
 ομολογουμένως λίγη σκέψη αποφασίστηκε το εξής. Στα χαρτιά τους οι 
κριτές θα γράφουνε μόνο τον αρχικό πίνακα και ένα ερώτημα. Για να βρούνε
 την i-οστή ανανέωση και το (i+1)-οστό ερώτημα χρησιμοποιούν τους εξής 
τύπους (ανανεώσεις και ερωτήματα συμβαίνουν πάντα εναλλάξ) :
<br>
<br>Θέση ανανέωσης = ((10.301 * X ) mod N) + 1
<br>
<br>Νέα τιμή = ((10.889 * Χ ) mod 20.000 ) + 1
<br>
<br>Αρχή διαστήματος ερωτήματος = ((33.617 * X ) mod N) + 1
<br>
<br>Τέλος διαστήματος ερωτήματος = Αρχή διαστήματος + ((58.049 * X ) mod (N-Αρχή_Διαστήματος+1))
<br>
<br>Χρόνος στον οποίο αναφέρεται το ερώτημα = (81.517 * X ) mod (i+1)
<br>
<br>όπου Χ η απάντηση στο i-οστό ερώτημα.
<br>
<br>Έτσι αν κάποιος διαγωνιζόμενος αποκτήσει πρόσβαση στο χαρτί με τα 
θέματα, θα δει μόνο τον αρχικό πίνακα και το πρώτο ερώτημα, κι αφού δε 
γνωρίζει τον τρόπο με τον οποίο δημιουργούνται οι ανανεώσεις/ερωτήματα, 
δε μπορεί να γνωρίζει τι ακολουθεί.
<br>
<br>Η τεχνική αυτή (security through obscurity), η υποτιθέμενη ασφάλεια 
δηλαδή που αποκτάς επειδή οι αντίπαλοί σου δεν ξέρουν πώς λειτουργείς, 
είναι εντελώς λάθος. Απόδειξη : Σήμερα που γνωρίζουμε τον τρόπο με τον 
οποίο δημιουργούνταν τα ζεύγη ανανεώσεων/ερωτημάτων είμαστε σε θέση να 
ζωντανέψουμε την ιστορία επαναλαμβάνοντας την διαδικασία που 
ακολουθούσαν οι κριτές. </p>
<hr>
<h2>Δεδομένα εισόδου
(αρχείο "rap.in")</h2>
<p>Στην πρώτη γραμμή δίνονται δύο θετικοί ακέραιοι Ν και Μ, το πλήθος 
των στοιχείων του πίνακα και το πλήθος των ζευγαριών ανανέωση-ερώτημα 
που ακολουθούν μετά το πρώτο ερώτημα.
<br>
<br>Στη δεύτερη γραμμή δίνονται Ν θετικοί ακέραιοι Ai, τα στοιχεία του πίνακα.
<br>
<br>Στην τρίτη γραμμή δίνονται δύο θετικοί ακέραιοι X και Y που 
περιγράφουν το πρώτο ερώτημα, η αρχή και το τέλος του διαστήματος για το
 οποίο μας ενδιαφέρει η απάντηση. Εννοείται ο χρόνος μηδέν, αφού δεν 
έχει συμβεί καμμία ανανέωση προηγουμένως. </p>
<hr>
<h2>Δεδομένα εξόδου
(αρχείο "rap.out")</h2>
<p>Μ+1 γραμμές, η i-οστή από αυτές τις γραμμές αντιπροσωπεύει την απάντηση στο i-οστό ερώτημα. </p>
<hr>
<h2>Περιορισμοί</h2>
<p></p><p>1 &lt;= Ν, Μ &lt;= 100.000
<br>1 &lt;= Ai &lt;= 20.000
<br>1 &lt;= X, Υ &lt;= Ν </p><p></p><p></p><ul>
<li><b>Όριο χρόνου εκτέλεσης:</b> 1 sec.</li>
<li><b>Όριο μνήμης:</b> 64 MB.</li>
</ul><p></p>

<hr>
<h2>Παράδειγμα εισόδου</h2>
<pre>5 2
3 9 19 4 1
2 4</pre>

<hr>
<h2>Παράδειγμα εξόδου</h2>
<pre>32
1
8454</pre>

<hr>
<h2>Επεξήγηση παραδείγματος</h2>
<p>Το πρώτο ερώτημα είναι το 2-4, προφανώς στον χρόνο 0.
<br>
<br>Επομένως η απάντηση είναι 9+19+4 = 32.
<br>
<br>Εφαρμόζοντας τους τύπους, με Χ=32, παίρνουμε ότι πρέπει να 
ανανεώσουμε την θέση 3 βάζοντας τον αριθμό 8449, κι ότι το επόμενο 
ερώτημα είναι το 5-5, σε χρόνο 0.
<br>
<br>Συνεπώς ο πίνακας στον χρόνο 1 είναι
<br>
<br>3 9 8449 4 1,
<br>
<br>κι η απάντηση στο ερώτημα είναι 1.
<br>
<br>Προσέξτε ότι το ερώτημα αναφέρεται στον χρόνο 0, όπου ο πίνακας ήταν :
<br>
<br>3 9 19 4 1.
<br>
<br>Παρομοίως, με Χ = 1 προκύπτει ανανέωση της θέσης 2 με 10890, και ερώτημα 3-5 στον χρόνο 1.
<br>
<br>Ο πίνακας στον χρόνο 2 γίνεται :
<br>
<br>3 10890 8449 4 1,
<br>
<br>και η απάντηση είναι 8449+4+1 = 8454 </p>



</body></html>