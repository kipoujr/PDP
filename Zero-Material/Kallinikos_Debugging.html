<!DOCTYPE html>
<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Debugging - Καλλίνικος</title>
    <link rel="stylesheet" href="Kallinikos_Debugging_files/bootstrap.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link href="Kallinikos_Debugging_files/font-awesome.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="Kallinikos_Debugging_files/main.css">
    <link rel="stylesheet" href="Kallinikos_Debugging_files/css.css">
    <link rel="icon" type="image/png" href="https://kallinikos.github.io/assets/logo.png">
    <meta name="viewport" id="vp" content="width=device-width, initial-scale=1">
  <script src="Kallinikos_Debugging_files/embed.js" data-timestamp="1529009326795"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><link rel="prefetch" href="Kallinikos_Debugging_files/a_data/lounge.css"><link rel="prefetch" href="Kallinikos_Debugging_files/a_data/common.js"><link rel="prefetch" href="Kallinikos_Debugging_files/a_data/lounge.js"><link rel="prefetch" href="Kallinikos_Debugging_files/a_data/config.js"><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><script src="Kallinikos_Debugging_files/alfie.js" async="" charset="UTF-8"></script></head>
  <body><div id="MathJax_Message" style="display: none;"></div>
    <header> 
  <div id="logo"><a href="https://kallinikos.github.io/">Καλλίνικος</a></div>
  <div id="motto">τύφλα να 'χει το e-maxx</div>
</header>

    <aside>
  <a href="https://kallinikos.github.io/">Αρχική</a> <br>
  <a href="https://github.com/kallinikos/kallinikos.github.io">Πηγαίος κώδικας</a> <br>
  <a href="https://github.com/kallinikos/algorithms">Υλοποιήσεις</a> <br>
</aside>

    <section>
      <script async="" src="Kallinikos_Debugging_files/MathJax.js"></script>
<div class="content">
  <div id="post">
    <h1><a href="https://kallinikos.github.io/" class="home"><i class="fa fa-home" aria-hidden="true"></i></a><i class="fa fa-caret-right" aria-hidden="true"></i>Debugging</h1>
    <p>Ο όρος <strong>αποσφαλμάτωση</strong> αναφέρεται σε ένα σύνολο 
τεχνικών που μπορεί κάποιος να χρησιμοποιήσει για να εντοπίσει ένα 
πιθανό λάθος στον κώδικά του. Συχνά όταν αντιλαμβανόμαστε ότι το 
πρόγραμμά μας δεν τρέχει σωστά, ή όταν θέλουμε να είμαστε σίγουροι ότι 
τρέχει σωστά, ακολουθούμε μια διαδικασία. Πρέπει να πούμε πως το 
debugging στοχεύει να εντοπίσει και να λύσει λάθη στην υλοποίηση και όχι
 στην αλγοριθμική σύλληψη, οπότε σπάνια θα βοηθήσει σε αυτόν τον τομέα. 
Εάν υπάρχει περίπτωση να έχουμε λάθος σύλληψη, καλό θα ήταν να γυρίσουμε
 στο χαρτί και το μολύβι.</p>

<ul id="markdown-toc">
  <li><a href="#%CE%B5%CF%80%CE%B9%CE%B8%CE%B5%CF%8E%CF%81%CE%B7%CF%83%CE%B7-%CE%BA%CF%8E%CE%B4%CE%B9%CE%BA%CE%B1" id="markdown-toc-επιθεώρηση-κώδικα">Επιθεώρηση κώδικα</a></li>
  <li><a href="#%CF%80%CF%81%CE%BF%CE%B5%CE%B9%CE%B4%CE%BF%CF%80%CE%BF%CE%B9%CE%AE%CF%83%CE%B5%CE%B9%CF%82-%CE%BC%CE%B5%CF%84%CE%B1%CE%B3%CE%BB%CF%89%CF%84%CF%84%CE%B9%CF%83%CF%84%CE%AE" id="markdown-toc-προειδοποιήσεις-μεταγλωττιστή">Προειδοποιήσεις μεταγλωττιστή</a></li>
  <li><a href="#%CE%B4%CE%B7%CE%BC%CE%B9%CE%BF%CF%85%CF%81%CE%B3%CE%AF%CE%B1-%CE%B1%CF%81%CF%87%CE%B5%CE%AF%CF%89%CE%BD-%CE%B5%CE%BB%CE%AD%CE%B3%CF%87%CE%BF%CF%85" id="markdown-toc-δημιουργία-αρχείων-ελέγχου">Δημιουργία αρχείων ελέγχου</a>    <ul>
      <li><a href="#%CE%B3%CF%81%CE%AC%CF%86%CE%BF%CE%BD%CF%84%CE%B1%CF%82-%CF%84%CE%BF%CE%BD-testcase-generator" id="markdown-toc-γράφοντας-τον-testcase-generator">Γράφοντας τον testcase generator</a></li>
      <li><a href="#%CE%B5%CE%BD%CF%84%CE%BF%CF%80%CE%B9%CF%83%CE%BC%CF%8C%CF%82-%CE%B1%CF%80%CE%BB%CF%8E%CE%BD-%CF%83%CF%86%CE%B1%CE%BB%CE%BC%CE%AC%CF%84%CF%89%CE%BD-%CE%BC%CE%B5-%CF%84%CE%B7-%CF%87%CF%81%CE%AE%CF%83%CE%B7-%CE%B1%CF%81%CF%87%CE%B5%CE%AF%CF%89%CE%BD-%CE%B5%CE%BB%CE%AD%CE%B3%CF%87%CE%BF%CF%85" id="markdown-toc-εντοπισμός-απλών-σφαλμάτων-με-τη-χρήση-αρχείων-ελέγχου">Εντοπισμός απλών σφαλμάτων με τη χρήση αρχείων ελέγχου</a>        <ul>
          <li><a href="#%CF%83%CF%86%CE%AC%CE%BB%CE%BC%CE%B1-%CE%BA%CE%B1%CF%84%CE%AC%CF%84%CE%BC%CE%B7%CF%83%CE%B7%CF%82-%CE%AE-%CF%85%CF%80%CE%AD%CF%81%CE%B2%CE%B1%CF%83%CE%B7%CF%82-%CF%87%CF%81%CE%BF%CE%BD%CE%B9%CE%BA%CE%BF%CF%8D-%CE%BF%CF%81%CE%AF%CE%BF%CF%85" id="markdown-toc-σφάλμα-κατάτμησης-ή-υπέρβασης-χρονικού-ορίου">Σφάλμα κατάτμησης ή υπέρβασης χρονικού ορίου</a></li>
          <li><a href="#%CE%BB%CE%AC%CE%B8%CE%BF%CF%82-%CE%B1%CF%80%CE%AC%CE%BD%CF%84%CE%B7%CF%83%CE%B7" id="markdown-toc-λάθος-απάντηση">Λάθος απάντηση</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#%CF%87%CF%81%CE%B7%CF%83%CE%B9%CE%BC%CE%BF%CF%80%CE%BF%CE%B9%CF%8E%CE%BD%CF%84%CE%B1%CF%82-debugger" id="markdown-toc-χρησιμοποιώντας-debugger">Χρησιμοποιώντας debugger</a></li>
  <li><a href="#%CF%80%CE%B7%CE%B3%CE%AD%CF%82" id="markdown-toc-πηγές">Πηγές</a></li>
</ul>

<h2 id="επιθεώρηση-κώδικα">Επιθεώρηση κώδικα</h2>

<p>Σε πρώτη φάση μπορούμε να ρίξουμε άλλη μια ματιά στον κώδικά μας και να ψάξουμε για <a href="https://kallinikos.github.io/%CE%A3%CF%85%CF%87%CE%BD%CE%AC-%CE%9B%CE%AC%CE%B8%CE%B7">συχνά λάθη</a>.
 Αν και δεν συστήνεται να στηριζόμαστε σε αυτό ή να χάνουμε πολύ χρόνο, 
πολλά λάθη μπορούν να εντοπιστούν αμέσως με αυτόν τον τρόπο.</p>

<h2 id="προειδοποιήσεις-μεταγλωττιστή">Προειδοποιήσεις μεταγλωττιστή</h2>

<p>Πολλές φορές ο compiler θα μας προειδοποιήσει ότι σε κάποια γραμμή 
υπάρχει ένα συγκεκριμένο πρόβλημα. Άλλες φορές όμως θα τα προσπεράσει 
χωρίς να μας ενημερώσει. Πολλά λάθη μπορούν να αποφευχθούν εάν 
χρησιμοποιήσουμε την ρύθμιση <code class="highlighter-rouge">-W</code> όταν κάνουμε compile (δηλαδή <code class="highlighter-rouge">g++ source.cpp -W</code>), έτσι ώστε ο compiler να μας προειδοποιεί για περισσότερα πιθανά σφάλματα.</p>

<h2 id="δημιουργία-αρχείων-ελέγχου">Δημιουργία αρχείων ελέγχου</h2>

<p>Εάν γνωρίζουμε ότι ο κώδικάς μας δεν είναι σωστός (πχ δεν γίνεται 
δεκτός από τον grader), είναι ιδιαίτερα βοηθητικό να δημιουργήσουμε 
τυχαία testcases. Κάτι τέτοιο μπορεί να μας βοηθήσει να βρούμε 
περιπτώσεις που το πρόγραμμά μας δεν είναι αρκετά αποδοτικό και βγαίνει 
έξω από τα όρια χρόνου ή μνήμης. Σε περίπτωση που προσπαθούμε να 
εντοπίσουμε πρόβλημα λάθος απάντησης, η πιο συνηθισμένη λύση είναι να 
γράψουμε και μια πιο αργή και απλή λύση (naive) και να συγκρίνουμε τις 
απαντήσεις των δύο προγραμμάτων.</p>

<h3 id="γράφοντας-τον-testcase-generator">Γράφοντας τον testcase generator</h3>

<p>Χρήσιμες βιβλιοθήκες της c/c++ που βοηθούν στην δημιουργία τυχαίων αρχείων ελέγχου είναι οι <code class="highlighter-rouge">stdlib.h</code> και η <code class="highlighter-rouge">time.h</code>. Ας κοιτάξουμε όμως ένα συγκεκριμένο παράδειγμα.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">MAXNUM</span><span class="p">;</span>
    <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d %d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">N</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">MAXNUM</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%d "</span><span class="p">,</span> <span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="n">MAXNUM</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Το πρόγραμμα αυτό διαβάζει δυο παραμέτρους, N και MAXNUM, και τυπώνει
 N τυχαίους αριθμούς σε μια σειρά οι οποίοι είναι από το 1 μέχρι το 
MAXNUM. Η γραμμή <code class="highlighter-rouge">srand(time(NULL))</code> αρχικοποιεί τον random number generator της C. Έπειτα, η συνάρτηση <code class="highlighter-rouge">rand()</code>
 επιστρέφει έναν τυχαίο ακέραιο αριθμό, τον οποίο περιορίζουμε στο όριο 
που χρειαζόμαστε κρατώντας το υπόλοιπο της Ευκλείδειας διαίρεσης με το 
MAXNUM (και αυξάνοντας κατά 1).</p>

<p>Αν και αυτό ήταν ένα πρόβλημα στο οποίο ήταν εύκολο να δημιουργήσουμε
 αρχεία ελέγχου, είναι ενδεικτικό της χρήσης της συνάρτησης <code class="highlighter-rouge">rand()</code>.</p>

<h3 id="εντοπισμός-απλών-σφαλμάτων-με-τη-χρήση-αρχείων-ελέγχου">Εντοπισμός απλών σφαλμάτων με τη χρήση αρχείων ελέγχου</h3>

<p>Εάν έχουμε κάποιο αρχείο ελέγχου στο οποίο γνωρίζουμε ότι το 
πρόγραμμά μας δεν έχει το επιθυμητό αποτέλεσμα (λάθος απάντηση, ή άλλο 
πρόβλημα), μπορούμε πιο εύκολα να εντοπίσουμε το σφάλμα μας.</p>

<h4 id="σφάλμα-κατάτμησης-ή-υπέρβασης-χρονικού-ορίου">Σφάλμα κατάτμησης ή υπέρβασης χρονικού ορίου</h4>

<p>Αν και αυτά τα προβλήματα λύνονται ευκολότερα με τη χρήση debugger, 
υπάρχει και άλλος τρόπος να εντοπιστούν. Σε περίπτωση που έχουμε σφάλμα 
κατάτμησης, συχνά κοιτάμε μήπως υπερβαίνουμε τα όρια κάποιου πίνακα, 
δηλαδή προσπαθούμε να χρησιμοποιήσουμε μνήμη που υπερβαίνει τα όρια που 
έχουμε θέσει. Σε περίπτωση που υπερβαίνεται το χρονικό όριο κατά πολύ 
(πρέπει να χρησιμοποιήσουμε keyboard interrupt για να σταματήσει το 
πρόγραμμα), συνήθως υποψιαζόμαστε την ύπαρξη κάποιου infinite loop, το 
οποίο μπορεί να προκληθεί είτε από κάποια δομή επανάληψης προβληματική 
(for ή while) ή από κάποια αναδρομή. Για να εντοπίσουμε σε ποιο σημείο 
του προγράμματος βρίσκεται το πρόβλημα, μπορούμε να τυπώνουμε σε κάποια 
κομβικά σημεία μια φράση ελέγχου (πχ <code class="highlighter-rouge">printf("moxos\n");</code>),
 και να εξετάζουμε από ποια σημεία κατάφερε να περάσει το πρόγραμμα. Εάν
 όμως το πρόγραμμά μας είναι αργό χωρίς να έχει infinite loop, πολλές 
φορές έχουμε υλοποιήσει έναν αργό αλγόριθμο με υψηλή πολυπλοκότητα.</p>

<h4 id="λάθος-απάντηση">Λάθος απάντηση</h4>

<p>Εάν γνωρίζουμε ότι σε ένα συγκεκριμένο testcase το πρόγραμμά μας 
επιστρέφει τη λάθος απάντηση, αρχικά μπορούμε να επανεξετάσουμε τον 
κώδικα, έχοντας κατά νου τι μπορεί να προκάλεσε την λάθος απάντηση. 
Συχνά κάτι τέτοιο μπορεί να μην φέρει αποτέλεσμα. Εάν το αρχείο ελέγχου 
είναι υπερβολικά μεγάλο για να το επεξεργαστούμε με το χέρι, μπορούμε να
 εντοπίσουμε το κομμάτι που δημιουργεί το πρόβλημα και να το 
απομονώσουμε (εάν το πρόβλημα το επιτρέπει). Το πιο δραστικό μέτρο που 
μπορούμε να πάρουμε εάν το πρόγραμμά μας επιστρέφει λάθος απάντηση, 
είναι να τυπώνουμε σε διάφορα σημεία τις μεταβλητές μας. Με αυτόν τον 
τρόπο, ακολουθούμε την διαδικασία του προγράμματος και κοιτάζουμε σε 
ποιο σημείο κάποια μεταβλητή παίρνει λάθος τιμή. Έτσι, εντοπίζουμε το 
σημείο στο οποίο έγινε το λάθος και μπορούμε να το διορθώσουμε.</p>

<h2 id="χρησιμοποιώντας-debugger">Χρησιμοποιώντας debugger</h2>

<p>Ένα από τα πιο χρήσιμα εργαλεία στην αποσφαλμάτωση είναι η χρήση 
debugger. Ο debugger που χρησιμοποιείται σε πιο ευρεία κλίμακα στο 
διαγωνιστικό επίπεδο είναι ο gdb (Gnu DeBugger). Παρέχει κάποια βασικά 
εργαλεία που μπορούν να διευκολύνουν σε μεγάλο βαθμό τη διαδικασία της 
αποσφαλμάτωσης. Ο καλύτερος τρόπος να χρησιμοποιήσουμε τον debugger 
είναι μέσα από ένα παράδειγμα.</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">N</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">mn</span><span class="o">&lt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span> <span class="p">{</span>
            <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">mn</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Κάνοντας βέβαια compile με τη χρήση της ρύθμισης <code class="highlighter-rouge">-W</code> θα εντοπίσουμε αμέσως το σφάλμα στην if μέσα στη 2η for. Οπότε ας διορθώσουμε αυτό το λάθος:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">N</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">mn</span><span class="o">&lt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">mn</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Εκτελώντας αυτόν τον κώδικα θα παρατηρήσουμε ότι αν δώσουμε στο N μια
 τιμή (έστω 1), θα διαβάσει παραπάνω αριθμούς το πρόγραμμα μας, και 
κάποια στιγμή θα μας ειδοποιήσει ότι υπήρξε σφάλμα κατάτμησης 
(Segmentation Fault). Παρόλο που στο συγκεκριμένο παράδειγμα το λάθος 
είναι σχετικά εύκολο να εντοπιστεί ας δούμε πώς θα μας βοηθούσε ο gdb.</p>

<p>Αφού έχουμε μεταγλωττίσει (compile) τον κώδικά μας, έχει παραχθεί το 
εκτελέσιμο αρχείο. Για να μπορέσει ο gdb και οποιοσδήποτε debugger να 
διαβάσει σωστά το εκτελέσιμο αρχείο, θα πρέπει να συμπεριλάβουμε την 
ρύθμιση <code class="highlighter-rouge">-g</code> όταν κάνουμε compile (δηλαδή <code class="highlighter-rouge">g++ source.cpp -g</code>). Αφού παραχθεί το εκτελέσιμο αρχείο, τρέχουμε (στην γραμμή εντολών των Linux πάντα) την εντολή <code class="highlighter-rouge">gdb ./a.out</code> (ή όπως αλλιώς έχουμε ονομάσει το εκτελέσιμο). Έπειτα θα εμφανιστεί μια οθόνη παρόμοια με την εξής:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ gdb ./a.out 
GNU gdb (Ubuntu 7.10-1ubuntu2) 7.10
Copyright (C) 2015 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
&lt;http://www.gnu.org/software/gdb/bugs/&gt;.
Find the GDB manual and other documentation resources online at:
&lt;http://www.gnu.org/software/gdb/documentation/&gt;
For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from ./a.out...done.
(gdb) 
</code></pre></div></div>

<p>(Για να μην μας ενοχλεί το μεγάλο κείμενο, μπορούμε να πατήσουμε Ctrl-L έτσι ώστε να καθαρίσει η οθόνη)</p>

<p>Για να εκτελεστεί το πρόγραμμα όπως θα εκτελούνταν και από την γραμμή εντολών γράφουμε <code class="highlighter-rouge">run</code> και έπειτα δίνουμε τα στοιχεία εισόδου.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) run
Starting program: /home/user/Desktop/a.out 
1
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 

Program received signal SIGSEGV, Segmentation fault.
0x00000011f71d9c40 in ?? ()
</code></pre></div></div>

<p>Δυστυχώς ο debugger δεν εντόπισε αμέσως την γραμμή στην οποία υπάρχει
 το πρόβλημα. Αν και συνήθως αυτό το βήμα δεν χρειάζεται, για να 
αναλύσουμε το segmentation fault θα χρησιμοποιήσουμε την εντολή 
backtrace.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) backtrace
#0  0x00000011f71d9c40 in ?? ()
#1  0x000000000040067d in main () at source.cpp:8
</code></pre></div></div>

<p>Μπορούμε λοιπόν να καταλάβουμε ότι το πρόβλημα συμβαίνει στη γραμμή 8
 του κώδικά μας. Αν και μπορούμε να επιστρέψουμε στον editor για να 
κοιτάξουμε τη γραμμή αυτή, ο gdb μας δίνει τη δυνατότητα να κοιτάξουμε 
τον κώδικά μας με την εντολή <code class="highlighter-rouge">list</code> ή <code class="highlighter-rouge">list LINENUM</code> όπου LINENUM βάζουμε το νούμερο της γραμμής. Σε αυτήν την περίπτωση θα γράψουμε <code class="highlighter-rouge">list 8</code>, για να μας δείξει τις γραμμές του κώδικά μας κοντά στη γραμμή 8.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) list 8
3	int N, a[10];
4	
5	int main() {
6	    scanf("%d", &amp;N);
7	    for(int i=1; i&lt;=N; --i) {
8	        scanf("%d", &amp;a[i]);
9	    }
10	
11	    int mn=a[1];
12	    for(int i=1; i&lt;=N; ++i) {
</code></pre></div></div>

<p>Κοιτάζοντας την γραμμή 8, μπορούμε να συμπεράνουμε ότι σε εκείνο το σημείο βγαίνουμε εκτός ορίων του πίνακα <code class="highlighter-rouge">a[i]</code>.
 Εάν κοιτάξουμε προσεκτικά λοιπόν τον κώδικα κοντά στη γραμμή αυτή θα 
εντοπίσουμε το μικρό λάθος που προκαλεί το segmentation fault. Αντί να 
αυξάνει το i, μειώνεται, και κάποια στιγμή γίνεται αρνητικό, φεύγοντας 
από τα όρια του πίνακα. Αξίζει να σημειωθεί πως το πρόγραμμα δεν 
σταματάει αμέσως μόλις φύγει από το όριο του πίνακα.</p>

<p>Αφού διορθώσουμε το λάθος αυτό, ο κώδικάς μας θα γίνει ως εξής:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">N</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">mn</span><span class="o">&lt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">mn</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Αφού μεταγλωττίσουμε την καινούρια αυτή έκδοση, θα δούμε ότι το 
πρόγραμμα τρέχει ομαλά. Δοκιμάζοντας όμως μερικά μικρά αρχεία ελέγχου θα
 παρατηρήσουμε ότι το πρόγραμμά μας επιστρέφει τη λάθος απάντηση. Αν και
 σε αυτό το σημείο θα βοηθούσε να τυπώνουμε τις μεταβλητές, θα δούμε πώς
 μπορεί να βοηθήσει ο gdb.</p>

<p>Ο gdb μας δίνει τη δυνατότητα να σταματήσουμε την εκτέλεση του 
προγράμματος όταν φτάσει σε κάποιο σημείο (πχ σε μια συγκεκριμένη 
γραμμή). Για να το κάνουμε αυτό χρησιμοποιούμε τα λεγόμενα 
“breakpoints”, δηλαδή σημεία στα οποία σταματάει το πρόγραμμα. Για να 
ορίσουμε ένα breakpoint στην γραμμή 5 θα γράφαμε <code class="highlighter-rouge">break 5</code>. Αφού σταματήσει το πρόγραμμά μας έχουμε τη δυνατότητα να τυπώσουμε μεταβλητές με την εντολή <code class="highlighter-rouge">print</code>. Για να συνεχίσει το πρόγραμμά μας κανονικά μπορούμε να χρησιμοποιήσουμε την εντολή <code class="highlighter-rouge">continue</code>, και για να συνεχίσει βαθμιαία (δηλαδή βήμα-βήμα), την εντολή <code class="highlighter-rouge">next</code>. Ας το δούμε στην πράξη:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) break 10
Breakpoint 1 at 0x4005db: file source.cpp, line 10.
(gdb) run
Starting program: /home/user/Desktop/a.out
5
1 2 3 4 5

Breakpoint 1, main () at source.cpp:11
11	    int mn=a[1];
(gdb) print a
$1 = {0, 1, 2, 3, 4, 5, 0, 0, 0, 0}
</code></pre></div></div>

<p>Παρατηρούμε ότι ο gdb χειρίζεται τους πίνακες αρκετά καλά, καθώς τυπώνει ολόκληρο τον πίνακα <code class="highlighter-rouge">a</code>
 σε μια κατανοητή μορφή. Παρατηρούμε επίσης ότι το πρόγραμμα έχει 
σταματήσει στην γραμμή 10, οπότε η γραμμή 11 (που τύπωσε ο gdb) δεν έχει
 εκτελεστεί ακόμα.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) next
12	    for(int i=1; i&lt;=N; ++i) {
(gdb) print mn
$2 = 1
</code></pre></div></div>

<p>Συνεχίζοντας παρατηρούμε ότι η γραμμή 11 δούλεψε σωστά, δηλαδή το <code class="highlighter-rouge">min</code> πήρε την τιμή του <code class="highlighter-rouge">a[1]</code> όπως θα έπρεπε.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) next
13	        if(mn&lt;a[i]) {
(gdb) next
12	    for(int i=1; i&lt;=N; ++i) {
</code></pre></div></div>

<p>Παρακάτω παρατηρούμε ότι η γραμμή 14 δεν εκτελέστηκε, αφού δεν ίσχυε η συνθήκη του if, και το πρόγραμμα επέστρεψε στη γραμμή 12.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) next
13	        if(mn&lt;a[i]) {
(gdb) next
14	            mn=a[i];
(gdb) next
12	    for(int i=1; i&lt;=N; ++i) {
(gdb) print mn
$3 = 2
</code></pre></div></div>

<p>Συνεχίζοντας όμως την εκτέλεση, εντοπίζουμε το λάθος. Στην επόμενη επανάληψη, η συνθήκη ισχύει και η τιμή του <code class="highlighter-rouge">mn</code> γίνεται 2. Όμως το <code class="highlighter-rouge">mn</code>
 υποτίθεται ότι κρατάει το ελάχιστο στοιχείο, οπότε δεν έπρεπε να 
αυξηθεί, επομένως η συνθήκη είναι λάθος. Παρατηρούμε πως η συνθήκη 
προκαλεί το <code class="highlighter-rouge">mn</code> να πάρει την μέγιστη τιμή αντί για την ελάχιστη, οπότε αρκεί να διορθώσουμε την γραμμή 13.</p>

<p>Ο κώδικας θα γίνει ως εξής:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">N</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">mn</span><span class="o">&gt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">mn</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Σε αυτό το σημείο μπορεί να νομίσουμε ότι όλα πάνε καλά. Υποβάλλοντας
 όμως το πρόβλημα θα ειδοποιηθούμε ότι αντιμετωπίσαμε σφάλμα κατάτμησης 
σε κάποια αρχεία ελέγχου. Δημιουργώντας τυχαία δικά μας αρχεία ελέγχου, 
καταλήξαμε σε ένα αρχείο ελέγχου το οποίο αναπαράγει το segmentation 
fault στον υπολογιστή μας. Έστω ότι το αρχείο αυτό ονομάζεται <code class="highlighter-rouge">input</code>.</p>

<p>Εκτελώντας το πρόγραμμά μας με το input θα δούμε το εξής:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ./a.out &lt; input 
Segmentation fault (core dumped)
</code></pre></div></div>

<p>Ας χρησιμοποιήσουμε πάλι τον gdb.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) run &lt; input 
Starting program: /home/user/Desktop/a.out &lt; input

Program received signal SIGSEGV, Segmentation fault.
0x00007ffff7a6c52a in _IO_vfscanf_internal (s=&lt;optimized out&gt;, 
    format=&lt;optimized out&gt;, argptr=argptr@entry=0x7fffffffdd28, 
    errp=errp@entry=0x0) at vfscanf.c:1826
1826	vfscanf.c: No such file or directory.
(gdb) backtrace
#0  0x00007ffff7a6c52a in _IO_vfscanf_internal (s=&lt;optimized out&gt;, 
    format=&lt;optimized out&gt;, argptr=argptr@entry=0x7fffffffdd28, 
    errp=errp@entry=0x0) at vfscanf.c:1826
#1  0x00007ffff7a7acdb in __scanf (format=&lt;optimized out&gt;) at scanf.c:33
#2  0x00000000004005d5 in main () at source.cpp:8
</code></pre></div></div>

<p>Το backtrace μας δίνει την πληροφορία ότι το πρόβλημα βρίσκεται πάλι 
στην γραμμή 8 του προγράμματός μας. Υποψιαζόμαστε ότι πάλι βγαίνουμε 
εκτός ορίων του πίνακα <code class="highlighter-rouge">a</code> κατά το διάβασμα του.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(gdb) print a
$1 = {0, 10, 10, 10, 10, 10, 10, 10, 10, 10}
(gdb) print N
$2 = 1000
</code></pre></div></div>

<p>Τυπώνοντας τις μεταβλητές μας μέχρι εκείνο το σημείο οι υποψίες μας 
επαληθεύονται. Προσπαθούμε να διαβάσουμε 1000 στοιχεία μέσα σε έναν 
πίνακα με 10 (ουσιαστικά 9) θέσεις! Σε αυτό το σημείο αντιλαμβανόμαστε 
ότι τα δεδομένα του προβλήματος απαιτούν μεγαλύτερο μέγεθος πίνακα. 
Αλλάζοντας για μία τελευταία φορά τον κώδικά μας καταλήγουμε στην τελική
 του μορφή:</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">10000000</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">N</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">N</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">mn</span><span class="o">&gt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
            <span class="n">mn</span><span class="o">=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">mn</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Υποβάλλοντας τον κώδικα αυτό παρατηρούμε ότι είναι σωστός.
Πρέπει να σημειωθεί ότι η διαδικασία αυτή σε πραγματικές συνθήκες θα 
έπαιρνε πολύ λιγότερο χρόνο από ό,τι φαίνεται. Επιπλέον, τέτοια λάθη 
όπως αυτά που παρουσιάζονται εδώ αποφεύγονται με την εξάσκηση. Αν και 
καλό είναι να γνωρίζουμε να τα εντοπίζουμε, ο καλύτερος τρόπος 
αντιμετώπισης είναι η εξάσκηση για να μην τα κάνουμε καν.</p>

<h2 id="πηγές">Πηγές</h2>

<p><a href="https://beej.us/guide/bggdb/">Beej’s Quick Guide to GDB</a></p>

    
<h2>Σχόλια</h2>
<div id="disqus_thread"><iframe id="dsq-app4394" name="dsq-app4394" allowtransparency="true" scrolling="no" tabindex="0" title="Disqus" style="width: 1px ! important; min-width: 100% ! important; border: medium none ! important; overflow: hidden ! important; height: 386px ! important;" src="Kallinikos_Debugging_files/a.html" horizontalscrolling="no" verticalscrolling="no" frameborder="0" width="100%"></iframe></div>

<script>
var disqus_config = function () {
    this.page.url = "https://kallinikos.github.io/Debugging";
    this.page.identifier = "/Debugging";
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//kallinikos-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


	<footer> 
  Ο Καλλίνικος είναι μία πλατφόρμα εκμάθησης αλγορίθμων για διαγωνισμούς πληροφορικής • <a href="https://github.com/kallinikos/kallinikos.github.io"><i class="fa fa-github"></i> Github</a>
</footer>
  </div>
</div>

    </section>
    <script src="Kallinikos_Debugging_files/jquery-3.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="Kallinikos_Debugging_files/popper.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="Kallinikos_Debugging_files/bootstrap.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script src="Kallinikos_Debugging_files/lodash.js"></script>
    <script src="Kallinikos_Debugging_files/main.js"></script>
  

<iframe style="display: none;"></iframe></body></html>